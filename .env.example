# ============================================
# 手语AI平台 环境变量配置模板
# ============================================
# 使用说明：
# 1. 复制此文件为 .env: cp .env.example .env
# 2. 根据实际环境修改配置值
# 3. 不要将 .env 文件提交到版本控制系统
# ============================================

# ============================================
# 应用基础配置
# ============================================
TZ=Asia/Shanghai
NODE_ENV=production
LOG_LEVEL=INFO

# ============================================
# 后端服务配置
# ============================================
BACKEND_PORT=8000
WORKERS=4
MAX_UPLOAD_SIZE=10485760
ALLOWED_ORIGINS=*
CORS_CREDENTIALS=true

# ============================================
# 数据库配置（PostgreSQL）
# ============================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=signai
POSTGRES_PASSWORD=signai_password
POSTGRES_DB=signai
DATABASE_URL=postgresql://signai:signai_password@postgres:5432/signai

# ============================================
# Redis 缓存配置
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://redis:6379/0

# ============================================
# Celery 任务队列配置
# ============================================
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
CELERY_WORKER_CONCURRENCY=4
CELERY_TASK_MAX_RETRIES=3
CELERY_TASK_TIME_LIMIT=300

# ============================================
# JWT 认证配置
# ============================================
SECRET_KEY=your-secret-key-change-in-production-please-use-strong-random-string
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24
JWT_REFRESH_EXPIRATION_DAYS=7

# ============================================
# API 密钥配置
# ============================================
# OpenAI API Key（用于语音识别、文本处理等）
OPENAI_API_KEY=your-openai-api-key-here

# 百度翻译 API Key（可选）
BAIDU_APP_ID=
BAIDU_SECRET_KEY=

# 腾讯云 API 密钥（可选）
TENCENT_SECRET_ID=
TENCENT_SECRET_KEY=

# ============================================
# AI 模型配置
# ============================================
# 模型文件路径
MODEL_PATH=/app/models
STGCN_MODEL_PATH=/app/models/stgcn.pth
HAND_DETECTOR_PATH=/app/models/hand_detector.pth
WHISPER_MODEL_PATH=/app/models/whisper/base.pt
VOCODER_PATH=/app/models/vocoder.pth
SPEAKER_ENCODER_PATH=/app/models/speaker_encoder.pth

# 模型推理配置
MODEL_DEVICE=cuda
MODEL_BATCH_SIZE=1
MODEL_NUM_WORKERS=2

# ============================================
# WebSocket 配置
# ============================================
WS_HOST=0.0.0.0
WS_PORT=8000
WS_MAX_CONNECTIONS=100
WS_PING_INTERVAL=20
WS_PING_TIMEOUT=90

# ============================================
# 文件存储配置
# ============================================
UPLOAD_DIR=/app/uploads
TEMP_DIR=/app/temp
MAX_FILE_SIZE_MB=20
ALLOWED_VIDEO_EXTENSIONS=mp4,avi,mov,webm
ALLOWED_AUDIO_EXTENSIONS=wav,mp3,m4a,ogg

# ============================================
# 视频处理配置
# ============================================
VIDEO_MAX_DURATION=300
VIDEO_FPS=30
VIDEO_RESOLUTION_WIDTH=640
VIDEO_RESOLUTION_HEIGHT=480
VIDEO_CODEC=libx264

# ============================================
# 音频处理配置
# ============================================
AUDIO_SAMPLE_RATE=16000
AUDIO_CHANNELS=1
AUDIO_BITRATE=128k

# ============================================
# Flower 监控配置
# ============================================
FLOWER_PORT=5555
FLOWER_USERNAME=admin
FLOWER_PASSWORD=flower_password

# ============================================
# Prometheus 监控配置
# ============================================
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION_TIME=15d

# ============================================
# Grafana 仪表板配置
# ============================================
GRAFANA_PORT=3001
GRAFANA_USERNAME=admin
GRAFANA_PASSWORD=grafana_password

# ============================================
# Alertmanager 告警配置
# ============================================
ALERTMANAGER_PORT=9093
ALERTMANAGER_EMAIL_ENABLED=false
ALERTMANAGER_SMTP_HOST=smtp.gmail.com
ALERTMANAGER_SMTP_PORT=587
ALERTMANAGER_SMTP_USER=
ALERTMANAGER_SMTP_PASSWORD=
ALERTMANAGER_NOTIFICATION_EMAIL=your-email@example.com

# ============================================
# 日志配置
# ============================================
LOG_DIR=/app/logs
LOG_LEVEL=INFO
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=10
LOG_FORMAT=json

# ============================================
# 缓存配置
# ============================================
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE=1000
REDIS_CACHE_PREFIX=signai:

# ============================================
# 限流配置
# ============================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_PER_DAY=10000

# ============================================
# 前端配置
# ==========================================
VITE_API_URL=http://localhost:8000
VITE_WS_URL=ws://localhost:8000/ws

# ============================================
# SSL/TLS 配置（可选）
# ============================================
SSL_ENABLED=false
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# ============================================
# 备份配置
# ============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=7
BACKUP_PATH=/backups

# ============================================
# 性能监控配置
# ============================================
PERFORMANCE_MONITORING_ENABLED=true
TRACK_REQUEST_TIME=true
TRACK_MEMORY_USAGE=true
TRACK_CPU_USAGE=true

# ============================================
# 开发模式配置（生产环境请设置为 false）
# ============================================
DEBUG=false
RELOAD=false
PROFILING_ENABLED=false

# ============================================
# 其他配置
# ============================================
# 默认语言
DEFAULT_LANGUAGE=zh-CN

# 时区
TIME_ZONE=Asia/Shanghai

# 应用名称
APP_NAME=SignAI Platform
APP_VERSION=1.0.0

# 管理员邮箱
ADMIN_EMAIL=admin@example.com

# 隐私政策 URL
PRIVACY_POLICY_URL=https://your-domain.com/privacy

# 服务条款 URL
TERMS_OF_SERVICE_URL=https://your-domain.com/terms